!function(t){var e={};function r(s){if(e[s])return e[s].exports;var n=e[s]={i:s,l:!1,exports:{}};return t[s].call(n.exports,n,n.exports,r),n.l=!0,n.exports}r.m=t,r.c=e,r.d=function(t,e,s){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:s})},r.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var s=Object.create(null);if(r.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)r.d(s,n,function(e){return t[e]}.bind(null,n));return s},r.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="",r(r.s=0)}([function(t,e,r){"use strict";r.r(e);let s=0;class n{constructor(){this.id=++s,this._events={}}$on(t,e){let r=this;return Array.isArray(t)?t.forEach(t=>this.$on(t,e)):(Array.isArray(e)||(e=[e]),(r._events[t]||(r._events[t]=[])).push(...e)),r}$once(t,e){let r=this;function s(){r.$off(t,s),e.apply(r,arguments)}return s.fn=e,r.$on(t,s),r}$off(t,e){let r=this;if(!arguments.length)return r._events={},r;if(Array.isArray(t))return t.forEach(t=>this.$off(t,e)),r;const s=r._events[t];if(!s)return r;if(!e)return r._events[t]=null,r;if(e){let r,n=s.length;if(Array.isArray(e))return void e.forEach(e=>this.$off(t,e));for(;n--;)if((r=s[n])===e||r.fn===e){s.splice(n,1);break}}return r}$emit(t,...e){let r=this,s=r._events[t];return s&&s.forEach(t=>t.apply(r,e)),r}}let i=0;class o{constructor(){this.uid=++i,this.subs=[]}addSub(t){this.subs.push(t)}removeSub(t){const e=this.subs.indexOf(t);e>-1&&this.subs.splice(e,1)}notify(){this.subs.forEach(t=>{t.update()})}}o.target=null;const a=Array.prototype,l=Object.create(a);["push","pop","shift","unshift","splice","sort","reverse"].forEach(function(t){const e=a[t];Object.defineProperty(l,t,{value:function(...r){const s=e.apply(this,r),n=this.__ob__;let i;switch(t){case"push":case"unshift":i=r;break;case"splice":i=r.slice(2)}return i&&n.observeArray(i),n.dep.notify(),s},enumerable:!1,writable:!0,configurable:!0})}),l.$apply=function(){this.__ob__.observeArray(this),this.__ob__.dep.notify()};const c=Object.getOwnPropertyNames(l);function u(t,e,r){let s=new o,n=d(r);Object.defineProperty(t,e,{configurable:!0,enumerable:!0,get:function(){return o.target&&(s.addSub(o.target),o.target.addDep(s),Array.isArray(r)&&(n.dep.addSub(o.target),o.target.addDep(n.dep))),r},set:function(t){t!==r&&(r=t,s.notify())}})}class f{constructor(t){if(this.value=t,Array.isArray(t)){this.dep=new o,("__proto__"in{}?h:b)(t,l,c),this.observeArray(t)}else this.walk(t);Object.defineProperty(t,"__ob__",{value:this,enumerable:!1,writable:!0,configurable:!0})}walk(t){const e=Object.keys(t);for(let r=0;r<e.length;r++)u(t,e[r],t[e[r]])}observeArray(t){for(let e=0,r=t.length;e<r;e++)d(t[e])}}function h(t,e,r){t.__proto__=e}function b(t,e,r){for(let s=0,n=r.length;s<n;s++){const n=r[s];Object.defineProperty(t,n,{value:e[n],enumerable:!1,writable:!0,configurable:!0})}}function d(t){if("object"!=typeof t)return;let e;return t.hasOwnProperty("__ob__")&&t.__ob__ instanceof f?e=t.__ob__:Object.isExtensible(t)&&(e=new f(t)),e}let p=0;class _{constructor(t,e,r){this.id=++p,this.obj=t,this.getter=e,this.cb=r,this.deps=[],this.value=this.get()}get(){o.target=this;let t=this.getter.call(this.obj);return o.target=null,t}update(){const t=this.getter.call(this.obj),e=this.value;this.value=t,this.cb.call(this.obj,t,e)}addDep(t){this.deps.push(t)}teardown(){let t=this.deps.length;for(;t--;)this.deps[t].removeSub(this);this.deps=[]}reset(){this.get()}}function g(t,e,r){const s={enumerable:!0,configurable:!0,get(){},set(){}};s.get=function(){return this[e][r]},s.set=function(t){this[e][r]=t},Object.defineProperty(t,r,s)}let y=0;let v=new class extends n{constructor(t){super(),this._init(t)}_init(t){let e=this;if(e.uid=y++,t.methods)for(let r in t.methods)e[r]=t.methods[r].bind(e);e._data=t.data.call(e),d(e._data);for(let t in e._data)g(e,"_data",t);for(let r in t.watch)new _(e,()=>r.split(".").reduce((t,e)=>t[e],e),t.watch[r])}}({data:()=>({baseTest:"baseTest",objTest:{stringA:"stringA",stringB:"stringB"}}),methods:{methodTest(){console.log("methodTest"),this.$emit("eventTest","事件测试")}},watch:{baseTest(t,e){console.log(`baseTest change ${e} => ${t}`)},"objTest.stringA"(t,e){console.log(`objTest.stringA change ${e} => ${t}`)}}});v.$on("eventTest",function(t){console.log(t)}),console.log(v.baseTest),v.methodTest(),v.baseTest="baseTestChange",v.objTest.stringA="stringAChange"}]);